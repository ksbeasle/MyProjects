<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <title>Calculator
    </title>
</head>
<body>

    
    <div id="calculator">
        <table>
                
            <tr>
                <td><button id="1" value=1>1</button></td><td><button id="2" value=2>2</button></td><td><button id="3" value=3>3</button></td><td><button id="add" value="+">+</button>
            </tr>
            <tr>
                    <td><button id="4" value="4">4</button></td><td><button id="5" value="5">5</button></td><td><button id="6" value="6">6</button></td></td><td><button id="subtract" value="-">-</button>
            </tr>
            <tr>
                    <td><button id="7" value="7">7</button></td><td><button id="8" value="8">8</button></td><td><button id="9" value="9">9</button></td></td><td><button id="divide" value="/">&#247</button>
            </tr>
            <tr>
                    <td><button id="0" value="0">0</button></td><td><button id="point" value=".">.</button></td><td><button id="equal" value="=">=</button></td></td><td><button id="multiply" value="*">x</button></td>
            </tr>
        </table>
    </div>

    <div id="output">
        <input id="calculate" type="text" >
    </div>

    <div>
        <p>ANSWER</p>
        <input id="answer" type="text">
    </div>

    <div id="delete">
        <button id="clear">Clear</button>
    </div>

</body>


<script>
   $(document).ready(function(){
       
       let compute = []
       let value = 0
       let answer = 0

    $("#1").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#2").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#3").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#4").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#5").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#6").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#7").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#8").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#9").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#0").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#point").click(function(){
        $('#calculate').val($('#calculate').val()+$(this).val());
    })

    $("#clear").click(function(){
        $("#calculate").val("")
        calc = ""
        compute = []
        value = 0
        answer = 0
        console.log(calc)
        console.log(compute)
        console.log(value)
        console.log(answer)

    })

    $("#equal").click(function(){
        let op = []
        let nums = []
        let convertMe = $("#calculate").val()
        value = parseInt(convertMe)
        compute.push(value)

        let val = compute[compute.length-1]
        let checkMe = isNaN(val)

        if(checkMe == true){
            compute.pop()
            compute.pop()
        }
        console.log("FINAL ARRAY: "+compute)

        

/* Work on looping through array and add/sub/div etc to get an answer */
        for(let i = 0; i < compute.length; i++){
            if(compute[i] == '+' || compute[i] == '*' || compute[i] == '-' || compute[i] == '/'){
                op.push(compute[i])
            }else{
                nums.push(compute[i])
            }  
        }
        console.log(op)
        console.log(nums)
        // [++]
        // [22]
        if(op.length > nums.length){
            let size = op.length
        }else{
            size = nums.length
        }
        let lastOp = ""
        for(let i = 0; i <= size; i++){
            
            /* Figure out why this is here lol */
            if(op.length == 0){
                if(lastOp == '+'){
                    answer += nums[0]
                    nums.shift()
                    lastOp = ""
                }
            }
            if(op[0] === '+'){
                answer += nums[0]
                lastOp = '+'
                op.shift()
                nums.shift()
            }
            
        }
        console.log("ANSWER HERE: " + answer)
        console.log("OP "+op)
        console.log("nums "+nums)

        

        $("#answer").val(answer)
        /* reset calculation */
        $("#calculate").val("")
        compute = []
        value = 0
        answer = 0
    
    })

    $("#multiply").click(function(){
        let convertMe = $("#calculate").val()
        value = parseInt(convertMe)
        compute.push(value)
        compute.push("*")
        
        /* reset calculation */
        $("#calculate").val("")
        calc = ""
    })

    $("#add").click(function(){
        
        let convertMe = $("#calculate").val()
        value = parseInt(convertMe)
        compute.push(value)
        compute.push("+")
        console.log(compute)
        /* reset calculation */
        $("#calculate").val("")
        calc = ""
    })

    $("#subtract").click(function(){
        let convertMe = $("#calculate").val()
        value = parseInt(convertMe)
        compute.push(value)
        compute.push("-")
        console.log(compute)
        /* reset calculation */
        $("#calculate").val("")
        calc = ""
    })

    $("#divide").click(function(){
        let convertMe = $("#calculate").val()
        value = parseInt(convertMe)
        compute.push(value)
        compute.push("/")
        console.log(compute)
        /* reset calculation */
        $("#calculate").val("")
        calc = ""
    })


   })

</script>
</html>